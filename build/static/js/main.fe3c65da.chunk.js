(this.webpackJsonpkursovaya=this.webpackJsonpkursovaya||[]).push([[0],{57:function(e,t,n){e.exports=n.p+"static/media/error-picture.362c250b.png"},67:function(e,t,n){e.exports=n(84)},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},78:function(e,t,n){},81:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),l=n.n(c),i=(n(72),n(73),n(16)),o=n(17),u=n(29),s=n(28),m=n(129),d=n(85),p=(n(74),function(){return r.a.createElement("div",{className:"loadingio-spinner-gear-27p091sw0gh spinner"},r.a.createElement("div",{className:"ldio-k7stpkdiwt"},r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))}),v=n(35),f=n(126),h=n(139),E=n(138),g=n(141),b=function(e){var t=e.addClient,n=Object(a.useState)("\u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432"),c=Object(v.a)(n,2),l=c[0],i=c[1],o=Object(a.useState)(""),u=Object(v.a)(o,2),s=u[0],m=u[1],d=Object(a.useState)("\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"),p=Object(v.a)(d,2),b=p[0],C=p[1],j=Object(a.useState)(!1),O=Object(v.a)(j,2),k=O[0],y=O[1],w=Object(a.useState)(!1),x=Object(v.a)(w,2),S=x[0],N=x[1],_={name:l,phone:s,status:b};return r.a.createElement("form",{className:"form",noValidate:!0,autoComplete:"off"},r.a.createElement(h.a,{error:k,margin:"normal",id:"standard-basic",label:"\u0418\u043c\u044f",value:l,onChange:function(e){return i(e.target.value)}}),r.a.createElement(h.a,{error:S,margin:"normal",className:"form__input",id:"standard-basic",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"number",helperText:"\u0424\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u043e\u0434\u0430: 88005553535",value:s,onChange:function(e){return m(e.target.value)}}),r.a.createElement(E.a,{className:"form__select",labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,onChange:function(e){return C(e.target.value)}},r.a.createElement(g.a,{value:"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"},"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"),r.a.createElement(g.a,{value:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"},"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e")),r.a.createElement(f.a,{className:"form__button",variant:"contained",color:"primary",size:"small",onClick:function(){_.name.length>40?y(!0):11!==_.phone.length?N(!0):(y(!1),t(_))}},"Add client"))},C=(n(78),n(130)),j=n(132),O=n(56),k=n.n(O),y=n(128),w=n(131),x=n(127),S=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).removeClient=function(t){(0,e.props.removeClient)(t)},e.renderClient=function(t){var n=t.client_id,a=t.name,c=t.phone,l=t.status;return r.a.createElement(x.a,{key:n},r.a.createElement(y.a,{component:"th",scope:"row"},a),r.a.createElement(y.a,{align:"right"},c),r.a.createElement(y.a,{align:"right"},l),r.a.createElement(y.a,{align:"right",size:"small"},r.a.createElement(f.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){return e.removeClient(n)}},r.a.createElement(k.a,{fontSize:"small"}))))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.clients;return r.a.createElement("div",null,r.a.createElement(m.a,{component:d.a},r.a.createElement(C.a,{"aria-label":"simple table"},r.a.createElement(w.a,null,r.a.createElement(x.a,null,r.a.createElement(y.a,null,"\u0418\u043c\u044f"),r.a.createElement(y.a,{align:"right"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),r.a.createElement(y.a,{align:"right"},"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement(y.a,{align:"right"}))),r.a.createElement(j.a,null,e.map(this.renderClient)))))}}]),n}(a.Component),N=(n(81),n(57)),_=n.n(N),z=function(){return r.a.createElement("div",{className:"error-indicator"},r.a.createElement("img",{src:_.a,alt:"error-icon",width:"64"}),r.a.createElement("span",{className:"boom"},"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435",r.a.createElement("br",null)," \u0423 \u043d\u0430\u0441 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0442\u0440\u0443\u0434\u043d\u043e\u0441\u0442\u0438"),r.a.createElement("span",null,"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430"))},A=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(o.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(z,null):this.props.children}}]),n}(a.Component),B=r.a.createContext(),D=B.Provider,G=B.Consumer,I=function(){return function(e){return function(t){return r.a.createElement(G,null,(function(n){return r.a.createElement(e,Object.assign({},t,{serverService:n}))}))}}},J=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clients:[],loading:!0},e.getClients=function(){e.props.serverService.getClients().then((function(t){var n=t.data;e.setState({clients:n,loading:!1})})).catch((function(e){return console.error(e)}))},e.removeClient=function(t){var n=e.props.serverService;e.setState({loading:!0}),n.removeClient(t).then(e.getClients).catch((function(e){return console.error(e)}))},e.addClient=function(t){var n=e.props.serverService;e.setState({loading:!0}),n.addClient(t).then(e.getClients).catch((function(e){return console.error(e)}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getClients()}},{key:"render",value:function(){var e=this.state,t=e.clients;return e.loading?r.a.createElement("div",null,r.a.createElement(m.a,{component:d.a},r.a.createElement(p,null)),r.a.createElement(b,{addClient:this.addClient})):r.a.createElement("div",null,r.a.createElement(A,null,r.a.createElement(S,{clients:t,removeClient:this.removeClient})),r.a.createElement(A,null,r.a.createElement(b,{addClient:this.addClient})))}}]),n}(a.Component),M=I()(J),P=n(133),R=n(134),T=n(135),V=n(136),W=Object(P.a)((function(e){return{root:{flexGrow:1,marginBottom:60},menuButton:{marginRight:e.spacing(2)},tool:{justifyContent:"space-around"}}}));var q=function(){var e=W();return r.a.createElement("div",{className:e.root},r.a.createElement(R.a,{position:"static"},r.a.createElement(T.a,{className:e.tool},r.a.createElement(V.a,{variant:"h6",className:e.title},"Clients"))))},F=n(137),H=n(25),K=n.n(H),L=n(44),Q=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getClients",value:function(){var e=Object(L.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://arcane-everglades-15227.herokuapp.com/clients");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch, received ".concat(t.status));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addClient",value:function(){var e=Object(L.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://arcane-everglades-15227.herokuapp.com/clients/add?name=".concat(t.name,"&phone=").concat(t.phone,"&status=").concat(t.status));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeClient",value:function(){var e=Object(L.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://arcane-everglades-15227.herokuapp.com/clients/remove?id=".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),U=function(){return r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(F.a,{maxWidth:"lg",disableGutters:!0},r.a.createElement(A,null,r.a.createElement(D,{value:Q},r.a.createElement(M,null)))))};n(83);l.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.fe3c65da.chunk.js.map