(this.webpackJsonpkursovaya=this.webpackJsonpkursovaya||[]).push([[0],{61:function(e,t,a){e.exports=a.p+"static/media/error-picture.362c250b.png"},71:function(e,t,a){e.exports=a(89)},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(76),a(77),a(14)),i=a(15),s=a(22),u=a(21),m=a(135),h=a(90),v=(a(78),function(){return r.a.createElement("div",{className:"loadingio-spinner-gear-27p091sw0gh spinner"},r.a.createElement("div",{className:"ldio-k7stpkdiwt"},r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))}),p=a(36),d=a(131),f=a(145),b=a(143),E=a(147),g=function(e){var t=e.addClient,a=Object(n.useState)("\u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432"),c=Object(p.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(""),s=Object(p.a)(i,2),u=s[0],m=s[1],h=Object(n.useState)("\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"),v=Object(p.a)(h,2),g=v[0],C=v[1],k=Object(n.useState)(!1),y=Object(p.a)(k,2),j=y[0],O=y[1],N=Object(n.useState)(!1),S=Object(p.a)(N,2),w=S[0],T=S[1],x={name:l,phone:u,status:g};return r.a.createElement("form",{className:"form",noValidate:!0,autoComplete:"off"},r.a.createElement(f.a,{error:j,margin:"normal",label:"\u0418\u043c\u044f",value:l,onChange:function(e){return o(e.target.value)}}),r.a.createElement(f.a,{error:w,margin:"normal",className:"form__input",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"number",helperText:"\u0424\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u043e\u0434\u0430: 88005553535",value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement(b.a,{className:"form__select",labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:function(e){return C(e.target.value)}},r.a.createElement(E.a,{value:"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"},"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"),r.a.createElement(E.a,{value:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"},"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e")),r.a.createElement(d.a,{className:"form__button",variant:"contained",color:"primary",size:"small",onClick:function(){x.name.length>40?O(!0):11!==x.phone.length?T(!0):(O(!1),t(x))}},"Add client"))},C=a(132),k=a(144),y=(a(82),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchType:"term",term:"",numb:0,checkedTerm:!0,checkedNumb:!1},e.onTermChange=function(t){var a=e.props.onChangeTerm;e.setState({term:t.target.value,numb:0}),a(t.target.value)},e.onNumbChange=function(t){var a=e.props.onChangeNumb;e.setState({term:"",numb:t.target.value}),a(t.target.value)},e.clearState=function(t){var a=e.props,n=a.onChangeTerm,r=a.onChangeNumb;"term"===t?e.setState({term:"",numb:0,searchType:t,checkedTerm:!0,checkedNumb:!1}):e.setState({term:"",numb:0,searchType:t,checkedTerm:!1,checkedNumb:!0}),r(0),n("")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return"term"===this.state.searchType?r.a.createElement("div",{className:"search-panel"},r.a.createElement(f.a,{type:"text",className:"form-control search-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",value:this.state.term,onChange:this.onTermChange,variant:"outlined",label:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0418\u043c\u0435\u043d\u0438"}),r.a.createElement("div",{className:"search-panel__checkboxes"},r.a.createElement(C.a,{control:r.a.createElement(k.a,{checked:this.state.checkedTerm,color:"primary",onChange:function(){return e.clearState("term")}}),label:"\u041f\u043e \u0438\u043c\u0435\u043d\u0438"}),r.a.createElement(C.a,{control:r.a.createElement(k.a,{checked:this.state.checkedNumb,onChange:function(){return e.clearState("numb")}}),label:"\u041f\u043e \u043d\u043e\u043c\u0435\u0440\u0443"}))):"numb"===this.state.searchType?r.a.createElement("div",{className:"search-panel"},r.a.createElement(f.a,{type:"number",className:"form-control search-input",value:this.state.numb,onChange:this.onNumbChange,variant:"outlined",label:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443"}),r.a.createElement("div",{className:"search-panel__checkboxes"},r.a.createElement(C.a,{control:r.a.createElement(k.a,{checked:this.state.checkedTerm,color:"primary",onChange:function(){return e.clearState("term")}}),label:"\u041f\u043e \u0438\u043c\u0435\u043d\u0438"}),r.a.createElement(C.a,{control:r.a.createElement(k.a,{checked:this.state.checkedNumb,onChange:function(){return e.clearState("numb")}}),label:"\u041f\u043e \u043d\u043e\u043c\u0435\u0440\u0443"}))):void 0}}]),a}(n.Component)),j=(a(83),a(136)),O=a(138),N=a(60),S=a.n(N),w=a(134),T=a(137),x=a(133),_=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).removeClient=function(t){(0,e.props.removeClient)(t)},e.renderClient=function(t){var a=t.client_id,n=t.name,c=t.phone,l=t.status;return r.a.createElement(x.a,{key:a},r.a.createElement(w.a,{component:"th",scope:"row"},a),r.a.createElement(w.a,{component:"th",scope:"row"},n),r.a.createElement(w.a,{align:"right"},c),r.a.createElement(w.a,{align:"right"},l),r.a.createElement(w.a,{align:"right",size:"small"},r.a.createElement(d.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){return e.removeClient(a)}},r.a.createElement(S.a,{fontSize:"small"}))))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.clients;return r.a.createElement("div",null,r.a.createElement(m.a,{component:h.a},r.a.createElement(j.a,{"aria-label":"simple table"},r.a.createElement(T.a,null,r.a.createElement(x.a,null,r.a.createElement(w.a,null,"#"),r.a.createElement(w.a,null,"\u0418\u043c\u044f"),r.a.createElement(w.a,{align:"right"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),r.a.createElement(w.a,{align:"right"},"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement(w.a,{align:"right"}))),r.a.createElement(O.a,null,e.map(this.renderClient)))))}}]),a}(n.Component),B=(a(86),a(61)),I=a.n(B),A=function(){return r.a.createElement("div",{className:"error-indicator"},r.a.createElement("img",{src:I.a,alt:"error-icon",width:"64"}),r.a.createElement("span",{className:"boom"},"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435",r.a.createElement("br",null)," \u0423 \u043d\u0430\u0441 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0442\u0440\u0443\u0434\u043d\u043e\u0441\u0442\u0438"),r.a.createElement("span",null,"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430"))},z=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(i.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(A,null):this.props.children}}]),a}(n.Component),D=r.a.createContext(),G=D.Provider,J=D.Consumer,L=function(){return function(e){return function(t){return r.a.createElement(J,null,(function(a){return r.a.createElement(e,Object.assign({},t,{serverService:a}))}))}}},M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clients:[],loading:!0,term:"",numb:0,visibleClients:[]},e.getClients=function(){e.props.serverService.getClients().then((function(t){var a=t.data;e.setState({clients:a,visibleClients:a,loading:!1})})).catch((function(e){return console.error(e)}))},e.removeClient=function(t){var a=e.props.serverService;e.setState({loading:!0}),a.removeClient(t).then(e.getClients).catch((function(e){return console.error(e)}))},e.addClient=function(t){var a=e.props.serverService;e.setState({loading:!0}),a.addClient(t).then(e.getClients).catch((function(e){return console.error(e)}))},e.searchItemByTerm=function(t,a){var n=e.state.clients;0===a.length&&e.setState({visibleClients:n});var r=t.filter((function(e){return e.name.toLowerCase().indexOf(a.toLowerCase())>-1}));e.setState({visibleClients:r})},e.searchItemByNumb=function(t,a){var n=e.state.clients;if(0===a)e.setState({visibleClients:n});else{var r=t.filter((function(e){return e.client_id===a}));e.setState({visibleClients:r})}},e.onChangeTerm=function(t){var a=e.state.clients;e.setState({term:t}),e.searchItemByTerm(a,t)},e.onChangeNumb=function(t){var a=e.state.clients;e.setState({numb:Number(t)}),e.searchItemByNumb(a,Number(t))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getClients()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.visibleClients;return t?r.a.createElement("div",null,r.a.createElement(m.a,{component:h.a},r.a.createElement(v,null)),r.a.createElement(g,{addClient:this.addClient})):r.a.createElement("div",null,r.a.createElement(z,null,r.a.createElement(y,{onChangeTerm:this.onChangeTerm,onChangeNumb:this.onChangeNumb})),r.a.createElement(z,null,r.a.createElement(_,{clients:a,removeClient:this.removeClient})),r.a.createElement(z,null,r.a.createElement(g,{addClient:this.addClient})))}}]),a}(n.Component),P=L()(M),R=a(139),V=a(140),W=a(141),q=a(91),F=Object(R.a)((function(e){return{root:{flexGrow:1,marginBottom:60},menuButton:{marginRight:e.spacing(2)},tool:{justifyContent:"space-around"}}}));var H=function(){var e=F();return r.a.createElement("div",{className:e.root},r.a.createElement(V.a,{position:"static"},r.a.createElement(W.a,{className:e.tool},r.a.createElement(q.a,{variant:"h6",className:e.title},"Clients"))))},K=a(142),Q=a(29),U=a.n(Q),X=a(47),Y=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getClients",value:function(){var e=Object(X.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://arcane-everglades-15227.herokuapp.com/clients");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch, received ".concat(t.status));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addClient",value:function(){var e=Object(X.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://arcane-everglades-15227.herokuapp.com/clients/add?name=".concat(t.name,"&phone=").concat(t.phone,"&status=").concat(t.status));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeClient",value:function(){var e=Object(X.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://arcane-everglades-15227.herokuapp.com/clients/remove?id=".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Z=function(){return r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(K.a,{maxWidth:"lg",disableGutters:!0},r.a.createElement(z,null,r.a.createElement(G,{value:Y},r.a.createElement(P,null)))))};a(88);l.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.d63807e2.chunk.js.map