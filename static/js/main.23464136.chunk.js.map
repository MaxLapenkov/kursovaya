{"version":3,"sources":["components/error-indicator/error-picture.png","components/spinner/index.js","components/spinner/spinner.js","components/pages/clients-page/clients-form/index.js","components/pages/clients-page/clients-form/clients-form.js","components/pages/clients-page/clients-table/index.js","components/pages/clients-page/clients-table/clients-table.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundary/index.js","components/error-boundary/error-boundary.js","components/server-service-context/server-service-context.js","components/hoc/with-server-service.js","components/pages/clients-page/clients-page.js","components/pages/clients-page/index.js","components/header/header.js","components/header/index.js","components/app/app.js","services/server-service.js","components/app/index.js","index.js"],"names":["module","exports","Spinner","className","ClientsForm","addClient","useState","name","setName","phone","setPhone","status","setStatus","nameError","setNameError","phoneError","setPhoneError","client","noValidate","autoComplete","TextField","error","margin","id","label","value","onChange","e","target","type","helperText","Select","labelId","MenuItem","Button","variant","color","size","onClick","length","ClientsTable","removeClient","props","renderClient","client_id","TableRow","key","TableCell","component","scope","align","fontSize","clients","this","TableContainer","Paper","Table","aria-label","TableHead","TableBody","map","Component","ErrorIndicator","src","icon","alt","width","ErrorBoundary","state","hasError","setState","children","React","createContext","ServerServiceProvider","Provider","ServerServiceConsumer","Consumer","withServerService","Wrapped","serverService","ClientsPage","loading","getClients","then","data","catch","err","console","useStyles","makeStyles","theme","root","flexGrow","marginBottom","menuButton","marginRight","spacing","tool","justifyContent","PageHeader","classes","AppBar","position","Toolbar","Typography","title","fetch","res","ok","Error","json","App","Container","maxWidth","disableGutters","ReactDOM","render","document","getElementById"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,2C,uRCC5BC,G,MCCC,WACZ,OACI,yBAAKC,UAAU,8CAA6C,yBAAKA,UAAU,mBACnF,6BAAK,8BAAW,8BAAW,8BAAW,8BAAW,8BAAW,mC,4CCJ7CC,ECEK,SAAC,GAAiB,IAAhBC,EAAe,EAAfA,UAAe,EACTC,mBAAS,iEADA,mBAC1BC,EAD0B,KACpBC,EADoB,OAEPF,qBAFO,mBAE1BG,EAF0B,KAEnBC,EAFmB,OAGLJ,mBAAS,yFAHJ,mBAG1BK,EAH0B,KAGlBC,EAHkB,OAICN,oBAAS,GAJV,mBAI1BO,EAJ0B,KAIfC,EAJe,OAKGR,oBAAS,GALZ,mBAK1BS,EAL0B,KAKdC,EALc,KAO3BC,EAAS,CACXV,KAAMA,EACNE,MAAOA,EACPE,OAAQA,GAEZ,OACI,0BAAMR,UAAU,OAAOe,YAAU,EAACC,aAAa,OAC7C,kBAACC,EAAA,EAAD,CAAWC,MAAOR,EAAWS,OAAO,SAASC,GAAG,iBAAiBC,MAAM,qBAAMC,MAAOlB,EAAMmB,SAAW,SAACC,GAAD,OAAOnB,EAAQmB,EAAEC,OAAOH,UAC7H,kBAACL,EAAA,EAAD,CAAWC,MAAON,EAAYO,OAAO,SAASnB,UAAY,cAAcoB,GAAG,iBAAiBC,MAAM,6CAAUK,KAAK,SAASC,WAAW,mFAA4BL,MAAOhB,EAAOiB,SAAW,SAAAC,GAAC,OAAIjB,EAASiB,EAAEC,OAAOH,UACjN,kBAACM,EAAA,EAAD,CAAS5B,UAAY,eAAe6B,QAAQ,2BAA2BT,GAAG,qBACzEE,MAAOd,EACRe,SAAW,SAAAC,GAAC,OAAIf,EAAUe,EAAEC,OAAOH,SACjC,kBAACQ,EAAA,EAAD,CAAUR,MAAM,yFAAhB,yFACA,kBAACQ,EAAA,EAAD,CAAUR,MAAM,+FAAhB,gGAEF,kBAACS,EAAA,EAAD,CAAQ/B,UAAY,eAAegC,QAAQ,YAAYC,MAAM,UAAUC,KAAK,QAC5EC,QAAS,WACJrB,EAAOV,KAAKgC,OAAS,GACtBzB,GAAa,GACoB,KAAxBG,EAAOR,MAAM8B,OACtBvB,GAAc,IAEdF,GAAa,GACbT,EAAUY,MARd,gB,sECxBKuB,E,4MCaXC,aAAe,SAAClB,IAEZkB,EADuB,EAAKC,MAArBD,cACMlB,I,EAGjBoB,aAAe,YAAuC,IAArCC,EAAoC,EAApCA,UAAWrC,EAAyB,EAAzBA,KAAME,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OACrC,OACE,kBAACkC,EAAA,EAAD,CAAUC,IAAKF,GACb,kBAACG,EAAA,EAAD,CAAWC,UAAU,KAAKC,MAAM,OAAO1C,GACvC,kBAACwC,EAAA,EAAD,CAAWG,MAAM,SAASzC,GAC1B,kBAACsC,EAAA,EAAD,CAAWG,MAAM,SAASvC,GAC1B,kBAACoC,EAAA,EAAD,CAAWG,MAAM,QAAQb,KAAK,SAAQ,kBAACH,EAAA,EAAD,CAAQC,QAAQ,YAAYC,MAAM,YAAYC,KAAK,QAAQC,QAAW,kBAAM,EAAKG,aAAaG,KAAY,kBAAC,IAAD,CAAmBO,SAAS,c,uDAM1K,IACCC,EAAWC,KAAKX,MAAhBU,QACP,OACI,6BACE,kBAACE,EAAA,EAAD,CAAgBN,UAAWO,KACzB,kBAACC,EAAA,EAAD,CAAOC,aAAW,gBAClB,kBAACC,EAAA,EAAD,KACE,kBAACb,EAAA,EAAD,KACI,kBAACE,EAAA,EAAD,2BACA,kBAACA,EAAA,EAAD,CAAWG,MAAM,SAAjB,8CACA,kBAACH,EAAA,EAAD,CAAWG,MAAM,SAAjB,wCACA,kBAACH,EAAA,EAAD,CAAWG,MAAM,YAGrB,kBAACS,EAAA,EAAD,KACGP,EAAQQ,IAAIP,KAAKV,sB,GAlCKkB,a,yBCX5BC,ECEQ,WACnB,OACI,yBAAK3D,UAAU,mBACX,yBAAK4D,IAAKC,IAAMC,IAAI,aAAaC,MAAM,OACvC,0BAAM/D,UAAU,QAAhB,mDAA+B,6BAA/B,yMACA,qNCPGgE,E,4MCGXC,MAAO,CACHC,UAAU,G,kEAGNhB,KAAKiB,SAAS,CAACD,UAAU,M,+BAIzB,OAAGhB,KAAKe,MAAMC,SACH,kBAAC,EAAD,MAEJhB,KAAKX,MAAM6B,a,GAZaV,a,ECEvCW,IAAMC,gBAFKC,E,EAAXC,SACWC,E,EAAXC,SCeWC,EAhBW,kBAAM,SAACC,GAC7B,OAAO,SAACrC,GACJ,OACA,kBAACkC,EAAD,MAEQ,SAACI,GACG,OACI,kBAACD,EAAD,iBAAarC,EAAb,CAAoBsC,cAAeA,WCGpDC,E,4MAELb,MAAQ,CACNhB,QAAS,GACT8B,SAAS,G,EAMXC,WAAa,WACa,EAAKzC,MAAtBsC,cACOG,aAAaC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAChC,EAAKf,SAAS,CACZlB,QAASiC,EACTH,SAAS,OAEVI,OAAM,SAAAC,GAAG,OAAIC,QAAQnE,MAAMkE,O,EAGhC9C,aAAe,SAAClB,GAAQ,IACfyD,EAAiB,EAAKtC,MAAtBsC,cACP,EAAKV,SAAS,CACZY,SAAS,IAEXF,EAAcvC,aAAalB,GAC1B6D,KAAK,EAAKD,YACRG,OAAM,SAAAC,GAAG,OAAIC,QAAQnE,MAAMkE,O,EAGhClF,UAAY,SAACY,GAAY,IAChB+D,EAAiB,EAAKtC,MAAtBsC,cACP,EAAKV,SAAS,CACZY,SAAS,IAEXF,EAAc3E,UAAUY,GACrBmE,KAAK,EAAKD,YACVG,OAAM,SAAAC,GAAG,OAAIC,QAAQnE,MAAMkE,O,kEA7B9BlC,KAAK8B,e,+BAiCG,IAAD,EACqB9B,KAAKe,MAAzBhB,EADD,EACCA,QAER,OAHO,EACU8B,QAIb,6BACE,kBAAC5B,EAAA,EAAD,CAAgBN,UAAWO,KACzB,kBAAC,EAAD,OAEF,kBAAC,EAAD,CAAalD,UAAWgD,KAAKhD,aAInC,6BACE,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAc+C,QAAWA,EAASX,aAAcY,KAAKZ,gBAEvD,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAapC,UAAWgD,KAAKhD,kB,GA3DVwD,aCZZoB,EDgFAH,IAAoBG,G,oCE3E7BQ,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACJC,SAAU,EACVC,aAAc,IAEhBC,WAAY,CACVC,YAAaL,EAAMM,QAAQ,IAE7BC,KAAM,CACFC,eAAgB,oBCdTC,MDkBE,WACb,IAAMC,EAAUZ,IAEhB,OACE,yBAAKtF,UAAWkG,EAAQT,MACtB,kBAACU,EAAA,EAAD,CAAQC,SAAS,UACf,kBAACC,EAAA,EAAD,CAASrG,UAAWkG,EAAQH,MAC1B,kBAACO,EAAA,EAAD,CAAYtE,QAAQ,KAAKhC,UAAWkG,EAAQK,OAA5C,e,kCElBN1B,EAAgB,I,qOCNI2B,MAAM,yD,WAAlBC,E,QAEEC,G,sBACE,IAAIC,MAAJ,oCAAuCF,EAAIjG,S,uBAEtCiG,EAAIG,O,kNAQN9F,G,iFACP0F,MAAM,kEAAD,OAAmE1F,EAAOV,KAA1E,kBAAwFU,EAAOR,MAA/F,mBAA+GQ,EAAON,S,8KAEhHY,G,iFACZoF,MAAM,mEAAD,OAAoEpF,I,0GClBvEyF,EFQH,WACV,OACE,6BACA,kBAAC,EAAD,MACA,kBAACC,EAAA,EAAD,CAAWC,SAAS,KAAKC,gBAAc,GACrC,kBAAC,EAAD,KACE,kBAACzC,EAAD,CAAuBjD,MAAOuD,GAC5B,kBAAC,EAAD,W,MGVVoC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.23464136.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/error-picture.362c250b.png\";","import Spinner from './spinner'\r\nexport default Spinner","import React from 'react'\r\nimport './spinner.css'\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"loadingio-spinner-gear-27p091sw0gh spinner\"><div className=\"ldio-k7stpkdiwt\">\r\n<div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n</div></div>\r\n    )\r\n}\r\n\r\nexport default Spinner","import ClientsForm from './clients-form'\r\nexport default ClientsForm","import React, {useState} from 'react'\r\nimport Button from '@material-ui/core/Button';\r\nimport { TextField, Select, MenuItem  } from '@material-ui/core';\r\nconst ClientsForm = ({addClient}) => {\r\n    const [name, setName] = useState('Иван Иванов');\r\n    const [phone, setPhone] = useState();\r\n    const [status, setStatus] = useState('Физическое лицо');\r\n    const [nameError, setNameError] = useState(false)\r\n    const [phoneError, setPhoneError] = useState(false)\r\n    \r\n    const client = {\r\n        name: name,\r\n        phone: phone,\r\n        status: status\r\n    }\r\n    return (\r\n        <form className=\"form\" noValidate autoComplete=\"off\">\r\n          <TextField error={nameError} margin=\"normal\" id=\"standard-basic\" label=\"Имя\" value={name} onChange={ (e) => setName(e.target.value)}/>\r\n          <TextField error={phoneError} margin=\"normal\" className = \"form__input\" id=\"standard-basic\" label=\"Телефон\" type=\"number\" helperText=\"Формат ввода: 88005553535\" value={phone} onChange={ e => setPhone(e.target.value)}/>\r\n          <Select  className = \"form__select\" labelId=\"demo-simple-select-label\" id=\"demo-simple-select\"\r\n           value={status}\r\n          onChange={ e => setStatus(e.target.value)}>\r\n            <MenuItem value=\"Физическое лицо\">Физическое лицо</MenuItem>\r\n            <MenuItem value=\"Юридическое лицо\">Юридическое лицо</MenuItem>\r\n          </Select>\r\n          <Button className = \"form__button\" variant=\"contained\" color=\"primary\" size=\"small\" \r\n          onClick={() =>{\r\n            if(client.name.length > 40) {\r\n              setNameError(true)\r\n            } else if (client.phone.length !== 11) {\r\n              setPhoneError(true)\r\n            } else {\r\n              setNameError(false)\r\n              addClient(client)\r\n            }\r\n            \r\n          }\r\n           }>Add client</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default ClientsForm","import ClientsTable from './clients-table'\r\nexport default ClientsTable","import React, {Component} from 'react'\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n export default class ClientsTable extends Component {\r\n    \r\n    removeClient = (id) => {\r\n        const {removeClient} = this.props\r\n        removeClient(id)\r\n    }\r\n\r\n    renderClient = ({client_id, name, phone, status}) => {\r\n        return (\r\n          <TableRow key={client_id}>\r\n            <TableCell component=\"th\" scope=\"row\">{name}</TableCell>\r\n            <TableCell align=\"right\">{phone}</TableCell>\r\n            <TableCell align=\"right\">{status}</TableCell>\r\n            <TableCell align=\"right\" size=\"small\"><Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick = {() => this.removeClient(client_id)}><DeleteForeverIcon fontSize=\"small\"/></Button></TableCell>\r\n          </TableRow>    \r\n        )\r\n      \r\n    }\r\n\r\n    render() {\r\n        const {clients} = this.props\r\n        return (\r\n            <div>\r\n              <TableContainer component={Paper}>\r\n                <Table aria-label=\"simple table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                      <TableCell>Имя</TableCell>\r\n                      <TableCell align=\"right\">Телефон</TableCell>\r\n                      <TableCell align=\"right\">Статус</TableCell>\r\n                      <TableCell align=\"right\"></TableCell>\r\n                </TableRow>\r\n                </TableHead>\r\n                  <TableBody>\r\n                    {clients.map(this.renderClient)}\r\n                  </TableBody>\r\n                  \r\n                </Table>\r\n                \r\n                </TableContainer>\r\n            </div>\r\n    )\r\n    }\r\n    \r\n }","import ErrorIndicator from './error-indicator'\r\nexport default ErrorIndicator","import React from 'react';\r\nimport './error-indicator.css'\r\nimport icon from './error-picture.png';\r\nconst ErrorIndicator = () => {\r\n    return (\r\n        <div className=\"error-indicator\">\r\n            <img src={icon} alt=\"error-icon\" width=\"64\"/>\r\n            <span className=\"boom\">Извините<br/> У нас возникли технические трудности</span>\r\n            <span>Работа скоро будет восстановлена</span>\r\n        </div>\r\n    )\r\n}\r\nexport default ErrorIndicator;","import ErrorBoundary from './error-boundary'\r\nexport default ErrorBoundary","import React, {Component} from 'react'\r\nimport ErrorIndicator from '../error-indicator/'\r\n\r\nexport default class ErrorBoundary extends Component {\r\n    state ={\r\n        hasError: false\r\n    }\r\n        componentDidCatch() {\r\n            this.setState({hasError: true})    \r\n        }\r\n    \r\n        render() {\r\n            if(this.state.hasError) {\r\n                return <ErrorIndicator />\r\n            }\r\n            return this.props.children;\r\n        }\r\n}","import React from 'react'\r\n\r\nconst {\r\n    Provider : ServerServiceProvider,\r\n    Consumer : ServerServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n    ServerServiceProvider,\r\n    ServerServiceConsumer\r\n}","import React from 'react'\r\nimport {ServerServiceConsumer} from '../server-service-context'\r\n\r\nconst withServerService = () => (Wrapped) => {\r\n    return (props) => {\r\n        return (\r\n        <ServerServiceConsumer>\r\n            {\r\n                (serverService) => {\r\n                    return (\r\n                        <Wrapped {...props} serverService={serverService}/>\r\n                    )\r\n                }\r\n            }\r\n        </ServerServiceConsumer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withServerService","import React, { Component } from 'react';\r\n\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Spinner from '../../spinner'\r\nimport ClientsForm from './clients-form'\r\n\r\nimport './clients-page.css'\r\nimport ClientsTable from './clients-table';\r\nimport ErrorBoundary from '../../error-boundary'\r\nimport withServerService from '../../hoc/with-server-service'\r\n\r\n\r\n class ClientsPage extends Component {\r\n  \r\n  state = {\r\n    clients: [],\r\n    loading: true\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getClients()\r\n  }\r\n  getClients = () => {\r\n    const {serverService} = this.props\r\n    serverService.getClients().then(({data}) => {\r\n      this.setState({\r\n        clients: data,\r\n        loading: false\r\n      })  \r\n    }).catch(err => console.error(err))\r\n  }\r\n\r\n  removeClient = (id) => {\r\n    const {serverService} = this.props\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    serverService.removeClient(id)\r\n    .then(this.getClients)\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  addClient = (client) => {\r\n    const {serverService} = this.props\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    serverService.addClient(client)\r\n      .then(this.getClients)\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  render() {\r\n    const { clients, loading} = this.state\r\n\r\n    if(loading)\r\n      return (\r\n        <div>\r\n          <TableContainer component={Paper}>\r\n            <Spinner/>\r\n          </TableContainer>\r\n          <ClientsForm addClient={this.addClient}/>\r\n      </div>\r\n      )\r\n    return (\r\n    <div>\r\n      <ErrorBoundary>\r\n        <ClientsTable clients = {clients} removeClient={this.removeClient}/>\r\n      </ErrorBoundary>\r\n      <ErrorBoundary>\r\n        <ClientsForm addClient={this.addClient}/>\r\n      </ErrorBoundary>\r\n    </div>\r\n      \r\n    );\r\n  }\r\n    \r\n}\r\n\r\nexport default withServerService()(ClientsPage)\r\n\r\n","import ClientsPage from './clients-page'\r\nexport default ClientsPage","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      marginBottom: 60\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    tool: {\r\n        justifyContent: 'space-around'\r\n    }\r\n  }));\r\n  \r\n  export default function ButtonAppBar() {\r\n    const classes = useStyles();\r\n  \r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar className={classes.tool}>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Clients\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }","import PageHeader from './header'\r\nexport default PageHeader","import React from 'react';\nimport './app.css';\nimport ClientsPage from '../pages/clients-page'\nimport PageHeader from '../header'\nimport { Container } from '@material-ui/core';\nimport ErrorBoundary from '../error-boundary'\nimport {ServerServiceProvider} from '../server-service-context';\nimport ServerService from '../../services/server-service'\nconst serverService = new ServerService()\nconst App = () => {\n  return (\n    <div>\n    <PageHeader/>\n    <Container maxWidth=\"lg\" disableGutters>\n      <ErrorBoundary>\n        <ServerServiceProvider value={serverService}>\n          <ClientsPage/>\n        </ServerServiceProvider>\n      </ErrorBoundary>\n    </Container>\n    </div>\n    \n  )\n}\n\nexport default App\n\n","export default class ServerService { \r\n    async getClients() {\r\n        const res = await fetch('https://arcane-everglades-15227.herokuapp.com/clients')\r\n          \r\n        if(!res.ok) {\r\n            throw new Error(`Could not fetch, received ${res.status}`)\r\n          }\r\n          return await res.json()\r\n        // const data = \r\n        //   [{client_id: 39, name: \"Иван Иванов\", phone: 22222, status: \"Физическое лицо\"},\r\n        // {client_id: 45, name: \"Максим\", phone: 22222, status: \"Физическое лицо\"},\r\n        // {client_id: 47, name: \"dfgdfhfd\", phone: 22222554, status: \"Физическое лицо\"}]\r\n        \r\n        // return {data}\r\n}\r\n     async addClient(client){\r\n        await fetch(`https://arcane-everglades-15227.herokuapp.com/clients/add?name=${client.name}&phone=${client.phone}&status=${client.status}`)\r\n      }\r\n      async removeClient(id) {\r\n       await fetch(`https://arcane-everglades-15227.herokuapp.com/clients/remove?id=${id}`)\r\n      }\r\n}","import App from './app'\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app';\nimport 'typeface-roboto';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}