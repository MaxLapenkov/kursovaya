{"version":3,"sources":["components/error-indicator/error-picture.png","components/spinner/index.js","components/spinner/spinner.js","components/pages/clients-page/clients-form/index.js","components/pages/clients-page/clients-form/clients-form.js","components/pages/clients-page/clients-search-panel/index.js","components/pages/clients-page/clients-search-panel/clients-search-panel.js","components/pages/clients-page/clients-table/index.js","components/pages/clients-page/clients-table/clients-table.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundary/index.js","components/error-boundary/error-boundary.js","components/server-service-context/server-service-context.js","components/hoc/with-server-service.js","components/pages/clients-page/clients-page.js","components/pages/clients-page/index.js","components/header/header.js","components/header/index.js","components/app/app.js","services/server-service.js","components/app/index.js","index.js"],"names":["module","exports","Spinner","className","ClientsForm","addClient","useState","name","setName","phone","setPhone","status","setStatus","nameError","setNameError","phoneError","setPhoneError","client","noValidate","autoComplete","TextField","error","margin","label","value","onChange","e","target","type","helperText","Select","labelId","id","MenuItem","Button","variant","color","size","onClick","length","ClientsSearchPanel","state","searchType","term","numb","checkedTerm","checkedNumb","onTermChange","onChangeTerm","props","setState","onNumbChange","onChangeNumb","clearState","this","placeholder","FormControlLabel","control","Checkbox","checked","Component","ClientsTable","removeClient","renderClient","client_id","TableRow","key","TableCell","component","scope","align","fontSize","clients","TableContainer","Paper","Table","aria-label","TableHead","TableBody","map","ErrorIndicator","src","icon","alt","width","ErrorBoundary","hasError","children","React","createContext","ServerServiceProvider","Provider","ServerServiceConsumer","Consumer","withServerService","Wrapped","serverService","ClientsPage","loading","visibleClients","getClients","then","data","catch","err","console","searchItemByTerm","items","result","filter","item","toLowerCase","indexOf","searchItemByNumb","Number","useStyles","makeStyles","theme","root","flexGrow","marginBottom","menuButton","marginRight","spacing","tool","justifyContent","PageHeader","classes","AppBar","position","Toolbar","Typography","title","fetch","res","ok","Error","json","App","Container","maxWidth","disableGutters","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d63807e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/error-picture.362c250b.png\";","import Spinner from './spinner'\r\nexport default Spinner","import React from 'react'\r\nimport './spinner.css'\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"loadingio-spinner-gear-27p091sw0gh spinner\"><div className=\"ldio-k7stpkdiwt\">\r\n<div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n</div></div>\r\n    )\r\n}\r\n\r\nexport default Spinner","import ClientsForm from './clients-form'\r\nexport default ClientsForm","import React, {useState} from 'react'\r\nimport Button from '@material-ui/core/Button';\r\nimport { TextField, Select, MenuItem  } from '@material-ui/core';\r\nconst ClientsForm = ({addClient}) => {\r\n    const [name, setName] = useState('Иван Иванов');\r\n    const [phone, setPhone] = useState('');\r\n    const [status, setStatus] = useState('Физическое лицо');\r\n    const [nameError, setNameError] = useState(false)\r\n    const [phoneError, setPhoneError] = useState(false)\r\n    \r\n    const client = {\r\n        name: name,\r\n        phone: phone,\r\n        status: status\r\n    }\r\n    return (\r\n        <form className=\"form\" noValidate autoComplete=\"off\">\r\n          <TextField error={nameError} margin=\"normal\"  label=\"Имя\" value={name} onChange={ (e) => setName(e.target.value)}/>\r\n          <TextField error={phoneError} margin=\"normal\" className = \"form__input\"  label=\"Телефон\" type=\"number\" helperText=\"Формат ввода: 88005553535\" value={phone} onChange={ e => setPhone(e.target.value)}/>\r\n          <Select  className = \"form__select\" labelId=\"demo-simple-select-label\" id=\"demo-simple-select\"\r\n           value={status}\r\n          onChange={ e => setStatus(e.target.value)}>\r\n            <MenuItem value=\"Физическое лицо\">Физическое лицо</MenuItem>\r\n            <MenuItem value=\"Юридическое лицо\">Юридическое лицо</MenuItem>\r\n          </Select>\r\n          <Button className = \"form__button\" variant=\"contained\" color=\"primary\" size=\"small\" \r\n          onClick={() =>{\r\n            if(client.name.length > 40) {\r\n              setNameError(true)\r\n            } else if (client.phone.length !== 11) {\r\n              setPhoneError(true)\r\n            } else {\r\n              setNameError(false)\r\n              addClient(client)\r\n            }\r\n            \r\n          }\r\n           }>Add client</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default ClientsForm","import ClientsSearchPanel from './clients-search-panel'\r\nexport default ClientsSearchPanel","import React, {Component} from 'react';\r\nimport { TextField, Checkbox, FormControlLabel } from '@material-ui/core';\r\nimport './clients-search-panel.css';\r\n\r\nexport default class ClientsSearchPanel extends Component  {\r\n  state = {\r\n    searchType: 'term',\r\n    term: '',\r\n    numb: 0,\r\n    checkedTerm: true,\r\n    checkedNumb: false\r\n}\r\nonTermChange = (e) => {\r\n  const {onChangeTerm} = this.props\r\n  this.setState({\r\n      term: e.target.value,\r\n      numb: 0\r\n  })\r\n  onChangeTerm(e.target.value)   \r\n}\r\nonNumbChange = (e) => {\r\n    const {onChangeNumb} = this.props\r\n    this.setState({\r\n        term: '',\r\n        numb: e.target.value\r\n    })\r\n    onChangeNumb(e.target.value)   \r\n  }\r\nclearState = (searchType) => {\r\n    const {onChangeTerm, onChangeNumb} = this.props\r\n    if(searchType === 'term') {\r\n        this.setState({\r\n            term: '',\r\n            numb: 0,\r\n            searchType: searchType,\r\n            checkedTerm: true,\r\n            checkedNumb: false\r\n        })\r\n    } else {\r\n        this.setState({\r\n            term: '',\r\n            numb: 0,\r\n            searchType: searchType,\r\n            checkedTerm: false,\r\n            checkedNumb: true\r\n        })\r\n    }\r\n    \r\n    onChangeNumb(0)\r\n    onChangeTerm('')\r\n}\r\n\r\n\r\n  render() {\r\n    if(this.state.searchType === 'term') {\r\n        return (\r\n            <div className=\"search-panel\">\r\n            <TextField type=\"text\"\r\n                      className=\"form-control search-input\"\r\n                      placeholder=\"Введите имя\"\r\n                      value = {this.state.term} \r\n                      onChange={this.onTermChange}\r\n                      variant=\"outlined\"\r\n                      label = \"Поиск по Имени\"/>\r\n                <div className=\"search-panel__checkboxes\">\r\n                    <FormControlLabel\r\n                        control= {\r\n                            <Checkbox checked={this.state.checkedTerm} color=\"primary\" onChange={() => this.clearState('term')}/>\r\n                        }\r\n                        label=\"По имени\"\r\n                    />\r\n                    <FormControlLabel\r\n                        control= {\r\n                            <Checkbox checked={this.state.checkedNumb} onChange={() => this.clearState('numb')} />\r\n                        }\r\n                        label=\"По номеру\"\r\n                    />\r\n                </div>\r\n            </div>\r\n          );\r\n    }\r\n    if(this.state.searchType === 'numb') {\r\n        return (\r\n            <div className=\"search-panel\">\r\n                <TextField type=\"number\"\r\n                      className=\"form-control search-input\"\r\n                      value = {this.state.numb} \r\n                      onChange={this.onNumbChange}\r\n                      variant=\"outlined\"\r\n                      label = \"Поиск по номеру\"/>\r\n                <div className=\"search-panel__checkboxes\">\r\n                    <FormControlLabel\r\n                        control= {\r\n                            <Checkbox checked={this.state.checkedTerm} color=\"primary\" onChange={() => this.clearState('term')}/>\r\n                        }\r\n                        label=\"По имени\"\r\n                    />\r\n                    <FormControlLabel\r\n                        control= {\r\n                            <Checkbox checked={this.state.checkedNumb} onChange={() => this.clearState('numb')} />\r\n                        }\r\n                        label=\"По номеру\"\r\n                    />\r\n                </div>\r\n            </div>\r\n          );\r\n    }\r\n    \r\n  }\r\n  \r\n};","import ClientsTable from './clients-table'\r\nexport default ClientsTable","import React, {Component} from 'react'\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n export default class ClientsTable extends Component {\r\n    \r\n    removeClient = (id) => {\r\n        const {removeClient} = this.props\r\n        removeClient(id)\r\n    }\r\n\r\n    renderClient = ({client_id, name, phone, status}) => {\r\n        return (\r\n          <TableRow key={client_id}>\r\n            <TableCell component=\"th\" scope=\"row\">{client_id}</TableCell>\r\n            <TableCell component=\"th\" scope=\"row\">{name}</TableCell>\r\n            <TableCell align=\"right\">{phone}</TableCell>\r\n            <TableCell align=\"right\">{status}</TableCell>\r\n            <TableCell align=\"right\" size=\"small\"><Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick = {() => this.removeClient(client_id)}><DeleteForeverIcon fontSize=\"small\"/></Button></TableCell>\r\n          </TableRow>    \r\n        )\r\n      \r\n    }\r\n\r\n    render() {\r\n        const {clients} = this.props\r\n        return (\r\n            <div>\r\n              <TableContainer component={Paper}>\r\n                <Table aria-label=\"simple table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                      <TableCell>#</TableCell>\r\n                      <TableCell>Имя</TableCell>\r\n                      <TableCell align=\"right\">Телефон</TableCell>\r\n                      <TableCell align=\"right\">Статус</TableCell>\r\n                      <TableCell align=\"right\"></TableCell>\r\n                </TableRow>\r\n                </TableHead>\r\n                  <TableBody>\r\n                    {clients.map(this.renderClient)}\r\n                  </TableBody>\r\n                  \r\n                </Table>\r\n                \r\n                </TableContainer>\r\n            </div>\r\n    )\r\n    }\r\n    \r\n }","import ErrorIndicator from './error-indicator'\r\nexport default ErrorIndicator","import React from 'react';\r\nimport './error-indicator.css'\r\nimport icon from './error-picture.png';\r\nconst ErrorIndicator = () => {\r\n    return (\r\n        <div className=\"error-indicator\">\r\n            <img src={icon} alt=\"error-icon\" width=\"64\"/>\r\n            <span className=\"boom\">Извините<br/> У нас возникли технические трудности</span>\r\n            <span>Работа скоро будет восстановлена</span>\r\n        </div>\r\n    )\r\n}\r\nexport default ErrorIndicator;","import ErrorBoundary from './error-boundary'\r\nexport default ErrorBoundary","import React, {Component} from 'react'\r\nimport ErrorIndicator from '../error-indicator/'\r\n\r\nexport default class ErrorBoundary extends Component {\r\n    state ={\r\n        hasError: false\r\n    }\r\n        componentDidCatch() {\r\n            this.setState({hasError: true})    \r\n        }\r\n    \r\n        render() {\r\n            if(this.state.hasError) {\r\n                return <ErrorIndicator />\r\n            }\r\n            return this.props.children;\r\n        }\r\n}","import React from 'react'\r\n\r\nconst {\r\n    Provider : ServerServiceProvider,\r\n    Consumer : ServerServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n    ServerServiceProvider,\r\n    ServerServiceConsumer\r\n}","import React from 'react'\r\nimport {ServerServiceConsumer} from '../server-service-context'\r\n\r\nconst withServerService = () => (Wrapped) => {\r\n    return (props) => {\r\n        return (\r\n        <ServerServiceConsumer>\r\n            {\r\n                (serverService) => {\r\n                    return (\r\n                        <Wrapped {...props} serverService={serverService}/>\r\n                    )\r\n                }\r\n            }\r\n        </ServerServiceConsumer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withServerService","import React, { Component } from 'react';\r\n\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Spinner from '../../spinner'\r\nimport ClientsForm from './clients-form'\r\nimport ClientsSearchPanel from './clients-search-panel'\r\n\r\nimport './clients-page.css'\r\nimport ClientsTable from './clients-table';\r\nimport ErrorBoundary from '../../error-boundary'\r\nimport withServerService from '../../hoc/with-server-service'\r\n\r\n\r\n class ClientsPage extends Component {\r\n  \r\n  state = {\r\n    clients: [],\r\n    loading: true,\r\n    term: '',\r\n    numb: 0,\r\n    visibleClients: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getClients()\r\n  }\r\n  getClients = () => {\r\n    const {serverService} = this.props\r\n    serverService.getClients()\r\n    .then(({data}) => {\r\n      this.setState({\r\n        clients: data,\r\n        visibleClients: data,\r\n        loading: false\r\n      })  \r\n    })\r\n    .catch(err => console.error(err))\r\n  }\r\n\r\n  removeClient = (id) => {\r\n    const {serverService} = this.props\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    serverService.removeClient(id)\r\n    .then(this.getClients)\r\n    .catch(err => console.error(err))\r\n  }\r\n\r\n  addClient = (client) => {\r\n    const {serverService} = this.props\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    serverService.addClient(client)\r\n      .then(this.getClients)\r\n      .catch(err => console.error(err))\r\n  }\r\n  searchItemByTerm = (items, term) => {\r\n      const {clients} = this.state\r\n      if(term.length === 0) {\r\n        this.setState({\r\n          visibleClients: clients\r\n        })\r\n      }\r\n      const result = items.filter((item) => {\r\n        return item.name.toLowerCase()\r\n        .indexOf(term.toLowerCase()) > -1\r\n      });\r\n      this.setState({\r\n        visibleClients: result\r\n      })  \r\n    }\r\n    searchItemByNumb = (items, numb) => {\r\n      const {clients} = this.state\r\n      if(numb === 0) {\r\n        this.setState({\r\n          visibleClients: clients\r\n        })   \r\n      } else {\r\n        const result = items.filter((item) => {\r\n          return item.client_id === numb\r\n        });\r\n        \r\n        this.setState({\r\n          visibleClients: result\r\n        }) \r\n      }\r\n       \r\n    }\r\n  onChangeTerm = (term) => {\r\n    const { clients } = this.state\r\n    this.setState({term})\r\n    this.searchItemByTerm(clients, term)\r\n  }\r\n  onChangeNumb = (numb) => {\r\n    const { clients } = this.state\r\n    this.setState({numb: Number(numb)})\r\n    this.searchItemByNumb(clients, Number(numb))\r\n  }\r\n\r\n  render() {\r\n    const { loading, visibleClients } = this.state\r\n\r\n    if(loading)\r\n      return (\r\n        <div>\r\n          <TableContainer component={Paper}>\r\n            <Spinner/>\r\n          </TableContainer>\r\n          <ClientsForm addClient={this.addClient}/>\r\n      </div>\r\n      )\r\n    return (\r\n    <div>\r\n      <ErrorBoundary>\r\n        <ClientsSearchPanel onChangeTerm={this.onChangeTerm} onChangeNumb={this.onChangeNumb}/>\r\n      </ErrorBoundary>\r\n      <ErrorBoundary>\r\n        <ClientsTable clients = {visibleClients} removeClient={this.removeClient}/>\r\n      </ErrorBoundary>\r\n      <ErrorBoundary>\r\n        <ClientsForm addClient={this.addClient}/>\r\n      </ErrorBoundary>\r\n    </div>\r\n      \r\n    );\r\n  }\r\n    \r\n}\r\n\r\nexport default withServerService()(ClientsPage)\r\n\r\n","import ClientsPage from './clients-page'\r\nexport default ClientsPage","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      marginBottom: 60\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    tool: {\r\n        justifyContent: 'space-around'\r\n    }\r\n  }));\r\n  \r\n  export default function ButtonAppBar() {\r\n    const classes = useStyles();\r\n  \r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar className={classes.tool}>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Clients\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }","import PageHeader from './header'\r\nexport default PageHeader","import React from 'react';\nimport './app.css';\nimport ClientsPage from '../pages/clients-page'\nimport PageHeader from '../header'\nimport { Container } from '@material-ui/core';\nimport ErrorBoundary from '../error-boundary'\nimport {ServerServiceProvider} from '../server-service-context';\nimport ServerService from '../../services/server-service'\nconst serverService = new ServerService()\nconst App = () => {\n  return (\n    <div>\n    <PageHeader/>\n    <Container maxWidth=\"lg\" disableGutters>\n      <ErrorBoundary>\n        <ServerServiceProvider value={serverService}>\n          <ClientsPage/>\n        </ServerServiceProvider>\n      </ErrorBoundary>\n    </Container>\n    </div>\n    \n  )\n}\n\nexport default App\n\n","export default class ServerService { \r\n    async getClients() {\r\n        const res = await fetch('https://arcane-everglades-15227.herokuapp.com/clients')\r\n          \r\n        if(!res.ok) {\r\n            throw new Error(`Could not fetch, received ${res.status}`)\r\n          }\r\n          return await res.json()\r\n        // const data = \r\n        //   [{client_id: 39, name: \"Иван Иванов\", phone: 22222, status: \"Физическое лицо\"},\r\n        // {client_id: 45, name: \"Максим\", phone: 22222, status: \"Физическое лицо\"},\r\n        // {client_id: 47, name: \"dfgdfhfd\", phone: 22222554, status: \"Физическое лицо\"}]\r\n        \r\n        // return {data}\r\n}\r\n     async addClient(client){\r\n        await fetch(`https://arcane-everglades-15227.herokuapp.com/clients/add?name=${client.name}&phone=${client.phone}&status=${client.status}`)\r\n      }\r\n      async removeClient(id) {\r\n       await fetch(`https://arcane-everglades-15227.herokuapp.com/clients/remove?id=${id}`)\r\n      }\r\n}","import App from './app'\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app';\nimport 'typeface-roboto';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}